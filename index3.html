<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="../css/style.css">
  <script src=https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js></script>
  <title>Interruptor</title>
</head>

<body class="bg-light" style="margin: 0px;">
  <div class="container">
    <div class="lightbulb-container">
      <div class="lightbulb"></div>
      <div class="light"></div>
    </div>
    <div class="button-container" onclick="toggleLight()">
      <span class="button-text">Encender Foco</span>
    </div>
    <div>
      <h1>Dashborad</h1>
      <div>
        <h2>Humo:</h2>
        <p id="humo">asds</p>
      </div>
      <div>
        <h2>Fuego:</h2>
        <p id="flama"></p>
      </div>
      <div>
        <h2></h2>
        <p id="luz"></p>
      </div>
    </div>
  </div>
  <!--Dashboard-->

  <script src="../js/index.js"></script>
  <script>
    const humo = document.getElementById('humo');
    const flama = document.getElementById('flama');
    const luz = document.getElementById('luz');
    function getData() {
      // hacer una peticiÃ³n AJAX para obtener los datos del servidor
      fetch('/flama')
        .then(response => response.json())
        .then(data => {
          // actualizar el elemento HTML con los nuevos datos
          console.log(data);
          humo.innerHTML = data.humo;
          flama.innerHTML = data.flama;
          luz.innerHTML = data.luzAmbiental;
        });
    }

    setInterval(getData, 2000);
  </script>
</body>

</html>